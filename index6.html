<!doctype html>
<html lang="ja" class="h-full">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram Carousel - ä¿è­·è€…ä¼š</title>
    <script src="https://cdn.tailwindcss.com/3.4.17"></script>
    <script src="/_sdk/element_sdk.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700;900&amp;family=Zen+Kaku+Gothic+New:wght@400;500;700;900&amp;display=swap"
        rel="stylesheet">
    <style>
        * {
            font-family: 'Zen Kaku Gothic New', 'Noto Sans JP', sans-serif;
        }

        .slide-container {
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
        }

        .slide {
            scroll-snap-align: start;
            flex-shrink: 0;
        }

        .gradient-dark {
            background: linear-gradient(135deg, #0f0f0f 0%, #1a1a2e 50%, #16213e 100%);
        }

        .accent-gradient {
            background: linear-gradient(135deg, #e63946 0%, #d62839 100%);
        }

        .text-gradient {
            background: linear-gradient(135deg, #f72585 0%, #e63946 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .glow-red {
            box-shadow: 0 0 40px rgba(230, 57, 70, 0.3);
        }

        .line-accent {
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, #e63946, #f72585);
        }

        .check-item::before {
            content: "âœ“";
            color: #e63946;
            font-weight: 900;
            margin-right: 12px;
        }

        .nav-dot {
            transition: all 0.3s ease;
        }

        .nav-dot.active {
            width: 24px;
            background: #e63946;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.02);
            }
        }

        .pulse-subtle {
            animation: pulse 3s ease-in-out infinite;
        }
    </style>
    <style>
        body {
            box-sizing: border-box;
        }
    </style>
    <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
</head>

<body class="h-full bg-neutral-900 overflow-auto">
    <div class="min-h-full flex flex-col items-center justify-center p-4 md:p-8"><!-- Header -->
        <div class="w-full max-w-lg mb-6 text-center">
            <h1 class="text-white text-lg md:text-xl font-bold mb-2">ğŸ“± Instagram ã‚«ãƒ«ãƒ¼ã‚»ãƒ« ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h1>
            <p class="text-neutral-400 text-sm">å·¦å³ã«ã‚¹ãƒ¯ã‚¤ãƒ—ã—ã¦ç¢ºèª</p>
        </div><!-- Phone Frame -->
        <div class="relative bg-black rounded-[3rem] p-3 shadow-2xl max-w-md w-full"><!-- Phone Notch -->
            <div class="absolute top-0 left-1/2 -translate-x-1/2 w-32 h-7 bg-black rounded-b-2xl z-20"></div>
            <!-- Screen -->
            <div class="bg-neutral-900 rounded-[2.5rem] overflow-hidden relative"><!-- Instagram Header -->
                <div class="bg-neutral-900 px-4 py-3 flex items-center justify-between border-b border-neutral-800">
                    <div class="flex items-center gap-3">
                        <div
                            class="w-8 h-8 rounded-full accent-gradient flex items-center justify-center text-white text-xs font-bold">
                            E
                        </div><span id="header-school-name" class="text-white text-sm font-medium">ECCãƒ™ã‚¹ãƒˆãƒ¯ãƒ³è—ä½</span>
                    </div>
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z">
                        </path>
                    </svg>
                </div><!-- Carousel Container -->
                <div id="carousel" class="slide-container flex overflow-x-auto" style="scroll-behavior: smooth;">
                    <!-- Slide 1: Hook -->
                    <div
                        class="slide w-full aspect-square gradient-dark flex flex-col items-center justify-center p-8 relative overflow-hidden">
                        <div class="absolute inset-0 opacity-10">
                            <div class="absolute top-10 left-10 w-40 h-40 border border-red-500 rotate-45"></div>
                            <div class="absolute bottom-10 right-10 w-32 h-32 border border-red-500 rotate-12"></div>
                        </div>
                        <div class="relative z-10 text-center">
                            <p class="text-neutral-400 text-sm mb-6 tracking-widest">QUESTION</p>
                            <h2 class="text-white text-2xl md:text-3xl font-black leading-tight mb-8">ãã®å¡¾é¸ã³ã€<br><span
                                    class="text-gradient">æœ¬å½“ã«æˆ¦ç•¥</span>ã§ã™ã‹ã€‚</h2>
                            <div class="line-accent mx-auto mb-8"></div>
                            <div class="bg-neutral-800/50 rounded-2xl p-5 backdrop-blur">
                                <p class="text-red-400 text-sm font-bold mb-2">2æœˆ12æ—¥</p>
                                <p class="text-white text-lg font-bold">å¾³å³¶çœŒä¸­å­¦æ ¡åŸºç¤å­¦åŠ›ãƒ†ã‚¹ãƒˆ</p>
                            </div>
                            <p class="text-neutral-300 text-sm mt-6 leading-relaxed">çµæœãŒå‡ºãŸä»Šã€<br><span
                                    class="text-red-400 font-bold">å‹•ãå®¶åº­</span>ã¨ã€<span
                                    class="text-neutral-500">å‹•ã‹ãªã„å®¶åº­</span>ã«åˆ†ã‹ã‚Œã¾ã™ã€‚</p>
                        </div>
                    </div><!-- Slide 2: Problem -->
                    <div
                        class="slide w-full aspect-square gradient-dark flex flex-col items-center justify-center p-8 relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-64 h-64 bg-red-500/5 rounded-full blur-3xl"></div>
                        <div class="relative z-10 w-full">
                            <p class="text-red-400 text-sm font-bold mb-4 tracking-widest">CHECK LIST</p>
                            <h2 class="text-white text-xl md:text-2xl font-black mb-8">ã“ã‚“ãªçŠ¶æ…‹ã§ã¯<br>
                                ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ</h2>
                            <div class="space-y-4 mb-8">
                                <div class="check-item text-neutral-200 text-sm md:text-base leading-relaxed">
                                    ç‚¹æ•°ã¯æ‚ªããªã„ãŒã€ä¼¸ã³ã‚‹æ ¹æ‹ ãŒãªã„
                                </div>
                                <div class="check-item text-neutral-200 text-sm md:text-base leading-relaxed">
                                    ã‚±ã‚¢ãƒ¬ã‚¹ãƒŸã‚¹ãŒæ¸›ã‚‰ãªã„
                                </div>
                                <div class="check-item text-neutral-200 text-sm md:text-base leading-relaxed">
                                    ä½•ã‚’å„ªå…ˆã™ã¹ãã‹åˆ†ã‹ã‚‰ãªã„
                                </div>
                                <div class="check-item text-neutral-200 text-sm md:text-base leading-relaxed">
                                    æƒ…å ±ã¯ã‚ã‚‹ãŒã€åˆ¤æ–­è»¸ãŒãªã„
                                </div>
                            </div>
                            <div class="border-l-4 border-red-500 pl-4">
                                <p class="text-white text-lg font-bold leading-relaxed">å—é¨“ã¯ã€ŒåŠªåŠ›é‡ã€ã§ã¯ãªã<br><span
                                        class="text-gradient">è¨­è¨ˆåŠ›</span>ã§å·®ãŒã¤ãã¾ã™ã€‚</p>
                            </div>
                        </div>
                    </div><!-- Slide 3: Structure -->
                    <div
                        class="slide w-full aspect-square gradient-dark flex flex-col items-center justify-center p-8 relative overflow-hidden">
                        <div class="absolute inset-0">
                            <div
                                class="absolute top-1/4 left-0 w-full h-px bg-gradient-to-r from-transparent via-red-500/30 to-transparent">
                            </div>
                            <div
                                class="absolute top-2/4 left-0 w-full h-px bg-gradient-to-r from-transparent via-red-500/20 to-transparent">
                            </div>
                            <div
                                class="absolute top-3/4 left-0 w-full h-px bg-gradient-to-r from-transparent via-red-500/30 to-transparent">
                            </div>
                        </div>
                        <div class="relative z-10 w-full text-center">
                            <p class="text-red-400 text-sm font-bold mb-4 tracking-widest">TOKUSHIMA EXAM</p>
                            <h2 class="text-white text-xl md:text-2xl font-black mb-8">å¾³å³¶çœŒå…¬ç«‹å…¥è©¦ã®æ§‹é€ </h2>
                            <div class="flex justify-center gap-4 mb-8">
                                <div class="bg-neutral-800/80 rounded-xl p-4 text-center glow-red">
                                    <p class="text-red-400 text-2xl font-black">10æœˆ</p>
                                    <p class="text-neutral-400 text-xs mt-1">ç¬¬1å›</p>
                                </div>
                                <div class="bg-neutral-800/80 rounded-xl p-4 text-center">
                                    <p class="text-white text-2xl font-black">11æœˆ</p>
                                    <p class="text-neutral-400 text-xs mt-1">ç¬¬2å›</p>
                                </div>
                                <div class="bg-neutral-800/80 rounded-xl p-4 text-center">
                                    <p class="text-white text-2xl font-black">1æœˆ</p>
                                    <p class="text-neutral-400 text-xs mt-1">ç¬¬3å›</p>
                                </div>
                            </div>
                            <p class="text-white text-base font-bold mb-6">3å›ã®åŸºç¤å­¦åŠ›ãƒ†ã‚¹ãƒˆãŒ<br>
                                åˆå¦ã‚’å·¦å³ã—ã¾ã™ã€‚</p>
                            <div class="bg-red-500/10 border border-red-500/30 rounded-xl p-4">
                                <p class="text-neutral-300 text-sm leading-relaxed">ã—ã‹ã—å¤šãã®å®¶åº­ã¯ã€<br><span
                                        class="text-red-400 font-bold">å¤ã¾ã§ã®å‹•ãæ–¹ã‚’çŸ¥ã‚‰ãªã„ã€‚</span></p>
                                <p class="text-white text-sm font-bold mt-3">ã“ã“ã§å·®ãŒå›ºå®šã—ã¾ã™ã€‚</p>
                            </div>
                        </div>
                    </div><!-- Slide 4: Solution -->
                    <div
                        class="slide w-full aspect-square gradient-dark flex flex-col items-center justify-center p-8 relative overflow-hidden">
                        <div class="absolute bottom-0 left-0 w-64 h-64 bg-red-500/5 rounded-full blur-3xl"></div>
                        <div class="relative z-10 w-full">
                            <p class="text-red-400 text-sm font-bold mb-4 tracking-widest">CONTENTS</p>
                            <h2 class="text-white text-xl md:text-2xl font-black mb-6">ä¿è­·è€…ä¼šã§<br>
                                ãŠä¼ãˆã™ã‚‹ã“ã¨</h2>
                            <div class="space-y-3 mb-6">
                                <div class="bg-neutral-800/60 rounded-xl p-4 flex items-start gap-3"><span
                                        class="text-red-400 font-black text-lg">01</span>
                                    <p class="text-white text-sm">2/12åŸºç¤å­¦åŠ›ãƒ†ã‚¹ãƒˆã®<br>
                                        å‡ºé¡Œåˆ†æ</p>
                                </div>
                                <div class="bg-neutral-800/60 rounded-xl p-4 flex items-start gap-3"><span
                                        class="text-red-400 font-black text-lg">02</span>
                                    <p class="text-white text-sm">å®Ÿéš›ã®ç­”æ¡ˆã‹ã‚‰è¦‹ã‚‹<br>
                                        å¤±ç‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³</p>
                                </div>
                                <div class="bg-neutral-800/60 rounded-xl p-4 flex items-start gap-3"><span
                                        class="text-red-400 font-black text-lg">03</span>
                                    <p class="text-white text-sm">å¤ã¾ã§ã«ã‚„ã‚‹ã¹ã<br>
                                        å…·ä½“ç­–</p>
                                </div>
                                <div class="bg-neutral-800/60 rounded-xl p-4 flex items-start gap-3"><span
                                        class="text-red-400 font-black text-lg">04</span>
                                    <p class="text-white text-sm">ä¸­3åŸºç¤å­¦åŠ›ãƒ†ã‚¹ãƒˆ<br>
                                        é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</p>
                                </div>
                            </div>
                            <div class="text-center">
                                <p class="text-white text-sm font-bold">ã€Œä¸å®‰ã€ã§ã¯ãªã<br><span
                                        class="text-gradient text-lg">è¡Œå‹•è¨ˆç”»</span>ã‚’æŒã¡å¸°ã£ã¦ã„ãŸã ãã¾ã™ã€‚</p>
                            </div>
                        </div>
                    </div><!-- Slide 5: Target -->
                    <div
                        class="slide w-full aspect-square gradient-dark flex flex-col items-center justify-center p-8 relative overflow-hidden">
                        <div class="absolute inset-0 opacity-20">
                            <div
                                class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-80 h-80 border-2 border-red-500/30 rounded-full">
                            </div>
                            <div
                                class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 border border-red-500/20 rounded-full">
                            </div>
                        </div>
                        <div class="relative z-10 w-full text-center">
                            <p class="text-red-400 text-sm font-bold mb-4 tracking-widest">FOR YOU</p>
                            <h2 class="text-white text-xl md:text-2xl font-black mb-8">æ–°ä¸­2ãƒ»æ–°ä¸­3ã®<br>
                                ä¿è­·è€…ã•ã¾ã¸</h2>
                            <div class="space-y-4 mb-8 text-left">
                                <div class="check-item text-neutral-200 text-sm md:text-base">
                                    è‡ªåˆ†ã¯å—é¨“ã«è©³ã—ããªã„
                                </div>
                                <div class="check-item text-neutral-200 text-sm md:text-base">
                                    å­ã©ã‚‚ã«ã¯è‰¯ã„é«˜æ ¡ã¸é€²ã‚“ã§ã»ã—ã„
                                </div>
                                <div class="check-item text-neutral-200 text-sm md:text-base">
                                    ã§ã‚‚ä½•ã‹ã‚‰å§‹ã‚ã‚‹ã¹ãã‹åˆ†ã‹ã‚‰ãªã„
                                </div>
                            </div>
                            <div class="bg-red-500/10 border border-red-500/30 rounded-xl p-5">
                                <p class="text-neutral-300 text-sm leading-relaxed mb-3">ãã®çŠ¶æ…‹ã®ã¾ã¾ä¸­3ã«ãªã‚‹ã¨ã€<br><span
                                        class="text-red-400 font-bold">ä¿®æ­£ã®æ™‚é–“ã¯ã»ã¼ã‚ã‚Šã¾ã›ã‚“ã€‚</span></p>
                                <p class="text-white text-xl font-black">ä»Šãªã‚‰ã€é–“ã«åˆã„ã¾ã™ã€‚</p>
                            </div>
                        </div>
                    </div><!-- Slide 6: CTA -->
                    <div
                        class="slide w-full aspect-square gradient-dark flex flex-col items-center justify-center p-6 relative overflow-hidden">
                        <div class="absolute inset-0 bg-gradient-to-b from-red-500/10 to-transparent"></div>
                        <div class="relative z-10 w-full text-center">
                            <div
                                class="accent-gradient text-white text-xs font-bold px-4 py-2 rounded-full inline-block mb-4">
                                ğŸ”¥ æ®‹å¸­ã‚ãšã‹
                            </div>
                            <h2 class="text-white text-lg md:text-xl font-black mb-6">ä¸­å­¦ç”Ÿ ä¿è­·è€…ä¼š<br><span
                                    class="text-neutral-400 text-sm font-normal">ï¼ˆå°‘äººæ•°åˆ¶ï¼‰</span></h2>
                            <div class="bg-neutral-800/80 rounded-2xl p-5 mb-5 text-left space-y-3">
                                <div class="flex items-center gap-3"><span class="text-xl">ğŸ“…</span>
                                    <div>
                                        <p id="cta-date-1" class="text-white text-sm font-bold">2æœˆ21æ—¥ï¼ˆåœŸï¼‰</p>
                                        <p id="cta-date-2" class="text-white text-sm font-bold">2æœˆ22æ—¥ï¼ˆæ—¥ï¼‰</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-3"><span class="text-xl">â°</span>
                                    <p class="text-white text-sm font-bold">13:00 â€“ 14:00</p>
                                </div>
                                <div class="flex items-center gap-3"><span class="text-xl">ğŸ“</span>
                                    <p id="cta-school-name" class="text-white text-sm font-bold">ECCãƒ™ã‚¹ãƒˆãƒ¯ãƒ³è—ä½</p>
                                </div>
                                <div class="flex items-center gap-3"><span class="text-xl">ğŸ‘¥</span>
                                    <p class="text-red-400 text-sm font-bold">é™å®š10åï¼ˆå…ˆç€é †ï¼‰</p>
                                </div>
                            </div>
                            <div class="space-y-3 mb-5">
                                <p class="text-neutral-400 text-xs mb-2">â–¼ ãŠç”³è¾¼ã¿æ–¹æ³•</p>
                                <div
                                    class="bg-white rounded-xl p-3 flex items-center justify-center gap-2 pulse-subtle">
                                    <span class="text-lg">ğŸ“</span>
                                    <p id="cta-phone" class="text-neutral-900 font-black">088-692-5483</p>
                                </div>
                                <div class="bg-red-500 rounded-xl p-3 flex items-center justify-center gap-2"><span
                                        class="text-lg">ğŸ“</span>
                                    <p class="text-white font-bold text-sm">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒªãƒ³ã‚¯ã‹ã‚‰ç”³è¾¼</p>
                                </div>
                            </div>
                            <p class="text-neutral-400 text-xs leading-relaxed">è¿·ã£ã¦ã„ã‚‹é–“ã«ã€<span
                                    class="text-red-400">å·®ã¯åºƒãŒã‚Šã¾ã™ã€‚</span></p>
                        </div>
                    </div>
                </div><!-- Navigation Dots -->
                <div class="flex justify-center gap-2 py-4 bg-neutral-900"><button
                        class="nav-dot w-2 h-2 rounded-full bg-neutral-600 active" data-slide="0"
                        aria-label="ã‚¹ãƒ©ã‚¤ãƒ‰1"></button> <button class="nav-dot w-2 h-2 rounded-full bg-neutral-600"
                        data-slide="1" aria-label="ã‚¹ãƒ©ã‚¤ãƒ‰2"></button> <button
                        class="nav-dot w-2 h-2 rounded-full bg-neutral-600" data-slide="2" aria-label="ã‚¹ãƒ©ã‚¤ãƒ‰3"></button>
                    <button class="nav-dot w-2 h-2 rounded-full bg-neutral-600" data-slide="3"
                        aria-label="ã‚¹ãƒ©ã‚¤ãƒ‰4"></button> <button class="nav-dot w-2 h-2 rounded-full bg-neutral-600"
                        data-slide="4" aria-label="ã‚¹ãƒ©ã‚¤ãƒ‰5"></button> <button
                        class="nav-dot w-2 h-2 rounded-full bg-neutral-600" data-slide="5" aria-label="ã‚¹ãƒ©ã‚¤ãƒ‰6"></button>
                </div><!-- Instagram Actions -->
                <div class="px-4 py-3 border-t border-neutral-800 flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z">
                            </path>
                        </svg>
                        <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z">
                            </path>
                        </svg>
                        <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z">
                            </path>
                        </svg>
                    </div>
                    <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
                    </svg>
                </div>
            </div>
        </div><!-- Slide Counter -->
        <div class="mt-6 text-center">
            <p class="text-neutral-400 text-sm"><span id="current-slide">1</span> / 6</p>
        </div>
    </div>
    <script>
        const defaultConfig = {
            school_name: 'ECCãƒ™ã‚¹ãƒˆãƒ¯ãƒ³è—ä½',
            phone_number: '088-692-5483',
            event_date_1: '2æœˆ21æ—¥ï¼ˆåœŸï¼‰',
            event_date_2: '2æœˆ22æ—¥ï¼ˆæ—¥ï¼‰',
            primary_color: '#e63946',
            background_color: '#0f0f0f',
            text_color: '#ffffff',
            secondary_color: '#262626',
            accent_color: '#f72585'
        };

        async function onConfigChange(config) {
            const schoolName = config.school_name || defaultConfig.school_name;
            const phoneNumber = config.phone_number || defaultConfig.phone_number;
            const eventDate1 = config.event_date_1 || defaultConfig.event_date_1;
            const eventDate2 = config.event_date_2 || defaultConfig.event_date_2;
            const primaryColor = config.primary_color || defaultConfig.primary_color;
            const bgColor = config.background_color || defaultConfig.background_color;
            const textColor = config.text_color || defaultConfig.text_color;
            const secondaryColor = config.secondary_color || defaultConfig.secondary_color;
            const accentColor = config.accent_color || defaultConfig.accent_color;

            // Update text content
            const headerSchoolName = document.getElementById('header-school-name');
            if (headerSchoolName) headerSchoolName.textContent = schoolName;

            const ctaSchoolName = document.getElementById('cta-school-name');
            if (ctaSchoolName) ctaSchoolName.textContent = schoolName;

            const ctaPhone = document.getElementById('cta-phone');
            if (ctaPhone) ctaPhone.textContent = phoneNumber;

            const ctaDate1 = document.getElementById('cta-date-1');
            if (ctaDate1) ctaDate1.textContent = eventDate1;

            const ctaDate2 = document.getElementById('cta-date-2');
            if (ctaDate2) ctaDate2.textContent = eventDate2;

            // Update colors
            document.documentElement.style.setProperty('--primary-color', primaryColor);

            // Update gradient backgrounds
            const slides = document.querySelectorAll('.gradient-dark');
            slides.forEach(slide => {
                slide.style.background = `linear-gradient(135deg, ${bgColor} 0%, #1a1a2e 50%, #16213e 100%)`;
            });

            // Update accent elements
            const accentGradients = document.querySelectorAll('.accent-gradient');
            accentGradients.forEach(el => {
                el.style.background = `linear-gradient(135deg, ${primaryColor} 0%, ${accentColor} 100%)`;
            });

            // Update text gradient
            const textGradients = document.querySelectorAll('.text-gradient');
            textGradients.forEach(el => {
                el.style.background = `linear-gradient(135deg, ${accentColor} 0%, ${primaryColor} 100%)`;
                el.style.webkitBackgroundClip = 'text';
                el.style.webkitTextFillColor = 'transparent';
                el.style.backgroundClip = 'text';
            });

            // Update active nav dot
            const activeDots = document.querySelectorAll('.nav-dot.active');
            activeDots.forEach(dot => {
                dot.style.backgroundColor = primaryColor;
            });

            // Update check items
            const checkItems = document.querySelectorAll('.check-item');
            checkItems.forEach(item => {
                item.style.setProperty('--check-color', primaryColor);
            });

            // Update red text elements
            const redTexts = document.querySelectorAll('.text-red-400');
            redTexts.forEach(el => {
                el.style.color = primaryColor;
            });

            // Update borders
            const redBorders = document.querySelectorAll('.border-red-500, .border-red-500\\/30');
            redBorders.forEach(el => {
                el.style.borderColor = primaryColor;
            });

            // Update glow
            const glowElements = document.querySelectorAll('.glow-red');
            glowElements.forEach(el => {
                el.style.boxShadow = `0 0 40px ${primaryColor}33`;
            });
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [
                    {
                        get: () => config.background_color || defaultConfig.background_color,
                        set: (value) => {
                            config.background_color = value;
                            window.elementSdk.setConfig({ background_color: value });
                        }
                    },
                    {
                        get: () => config.secondary_color || defaultConfig.secondary_color,
                        set: (value) => {
                            config.secondary_color = value;
                            window.elementSdk.setConfig({ secondary_color: value });
                        }
                    },
                    {
                        get: () => config.text_color || defaultConfig.text_color,
                        set: (value) => {
                            config.text_color = value;
                            window.elementSdk.setConfig({ text_color: value });
                        }
                    },
                    {
                        get: () => config.primary_color || defaultConfig.primary_color,
                        set: (value) => {
                            config.primary_color = value;
                            window.elementSdk.setConfig({ primary_color: value });
                        }
                    },
                    {
                        get: () => config.accent_color || defaultConfig.accent_color,
                        set: (value) => {
                            config.accent_color = value;
                            window.elementSdk.setConfig({ accent_color: value });
                        }
                    }
                ],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ['school_name', config.school_name || defaultConfig.school_name],
                ['phone_number', config.phone_number || defaultConfig.phone_number],
                ['event_date_1', config.event_date_1 || defaultConfig.event_date_1],
                ['event_date_2', config.event_date_2 || defaultConfig.event_date_2]
            ]);
        }

        // Initialize Element SDK
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities,
                mapToEditPanelValues
            });
        }

        // Carousel functionality
        const carousel = document.getElementById('carousel');
        const dots = document.querySelectorAll('.nav-dot');
        const currentSlideDisplay = document.getElementById('current-slide');

        function updateActiveDot(index) {
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
                if (i === index) {
                    const primaryColor = (window.elementSdk && window.elementSdk.config && window.elementSdk.config.primary_color) || defaultConfig.primary_color;
                    dot.style.backgroundColor = primaryColor;
                    dot.style.width = '24px';
                } else {
                    dot.style.backgroundColor = '#525252';
                    dot.style.width = '8px';
                }
            });
            if (currentSlideDisplay) {
                currentSlideDisplay.textContent = index + 1;
            }
        }

        // Scroll event listener
        carousel.addEventListener('scroll', () => {
            const slideWidth = carousel.offsetWidth;
            const scrollPosition = carousel.scrollLeft;
            const currentIndex = Math.round(scrollPosition / slideWidth);
            updateActiveDot(currentIndex);
        });

        // Dot click handlers
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                const slideWidth = carousel.offsetWidth;
                carousel.scrollTo({
                    left: slideWidth * index,
                    behavior: 'smooth'
                });
            });
        });

        // Initialize first dot as active
        updateActiveDot(0);
    </script>
</body>

</html>