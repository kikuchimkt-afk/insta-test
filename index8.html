<!doctype html>
<html lang="ja" class="h-full">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram Feed - 案8 Apple Minimal</title>
    <script src="https://cdn.tailwindcss.com/3.4.17"></script>
    <script src="/_sdk/element_sdk.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700;900&display=swap"
        rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Noto Sans JP', sans-serif;
            -webkit-font-smoothing: antialiased;
        }

        body {
            background-color: #ffffff;
            color: #000000;
        }

        .slide-container {
            aspect-ratio: 4 / 5;
            /* Instagram Portrait */
            width: 100%;
            max-width: 500px;
            background: #ffffff;
            position: relative;
            overflow: hidden;
            border: 1px solid #efefef;
        }

        /* Apple-like spacing and line heights */
        .text-content {
            line-height: 1.5;
            letter-spacing: -0.02em;
        }

        .slide {
            padding: 15% 10%;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            height: 100%;
        }

        .slide-center {
            justify-content: center;
            text-align: center;
        }

        .nav-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: #d1d1d6;
            transition: all 0.3s ease;
        }

        .nav-dot.active {
            background-color: #000000;
            transform: scale(1.2);
        }

        .emphasize {
            color: #666666;
        }

        .accent-box {
            background-color: #f2f2f7;
            border-radius: 12px;
            padding: 1.5rem;
        }

        /* Fade-in animation */
        .fade-in {
            animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
    <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
</head>

<body class="h-full overflow-auto flex flex-col items-center justify-start py-8 md:py-12 bg-gray-50">
    <div class="w-full max-w-lg flex flex-col items-center">

        <!-- Slide Container -->
        <div class="slide-container bg-white shadow-2xl rounded-[40px]" id="slideContainer">

            <!-- Slide 1: Hook -->
            <div class="slide slide-center space-y-12" data-slide="1">
                <div class="fade-in space-y-16">
                    <h1 class="text-3xl md:text-4xl font-bold leading-tight tracking-tight">
                        その塾選び、<br>
                        本当に戦略ですか。
                    </h1>
                    <div class="space-y-4">
                        <p class="text-lg font-medium text-gray-400">
                            2月12日<br>
                            徳島県中学校基礎学力テスト。
                        </p>
                        <p class="text-base font-bold text-gray-400">
                            動く家庭と、<br>
                            動かない家庭に分かれます。
                        </p>
                    </div>
                </div>
            </div>

            <!-- Slide 2: Problem -->
            <div class="slide hidden" data-slide="2">
                <div class="fade-in space-y-12">
                    <p class="text-xl font-bold text-gray-400">こんな状態では<br>ありませんか？</p>
                    <div class="space-y-6 text-lg font-medium">
                        <p>✔ 点数は悪くない</p>
                        <p>✔ 伸びる根拠がない</p>
                        <p>✔ 何を優先すべきか分からない</p>
                    </div>
                    <div class="pt-12 text-center">
                        <p class="text-2xl leading-relaxed">
                            受験は<br>
                            努力量ではなく<br>
                            <span class="font-bold text-3xl">設計力。</span>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Slide 3: Structure -->
            <div class="slide slide-center hidden" data-slide="3">
                <div class="fade-in space-y-12">
                    <div class="flex flex-col items-center gap-2">
                        <span class="text-6xl font-bold tracking-tighter">10月</span>
                        <span class="text-6xl font-bold tracking-tighter">11月</span>
                        <span class="text-6xl font-bold tracking-tighter emphasize">1月</span>
                    </div>
                    <div class="space-y-4">
                        <p class="text-xl font-bold">3回の基礎学力テスト。</p>
                        <p class="text-sm font-medium text-gray-400">
                            夏までの動きで<br>
                            差が固定します。
                        </p>
                    </div>
                </div>
            </div>

            <!-- Slide 4: Solution -->
            <div class="slide hidden" data-slide="4">
                <div class="fade-in space-y-10">
                    <div class="space-y-6 text-xl font-bold">
                        <p>✔ 出題分析</p>
                        <p>✔ 失点パターン</p>
                        <p>✔ 夏までの具体策</p>
                        <p>✔ 逆算スケジュール</p>
                    </div>
                    <div class="pt-16 text-center">
                        <p class="text-2xl leading-relaxed">
                            不安ではなく、<br>
                            <span class="font-bold underline decoration-2 underline-offset-8">行動計画。</span>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Slide 5: Target -->
            <div class="slide slide-center hidden" data-slide="5">
                <div class="fade-in space-y-16">
                    <div class="space-y-2">
                        <p class="text-2xl font-bold">受験に詳しくない。</p>
                        <p class="text-lg font-medium text-gray-400">でも、<br>子どもには良い高校へ。</p>
                    </div>
                    <div class="space-y-4">
                        <p class="text-2xl font-bold tracking-tight">
                            今なら、<br>
                            修正できます。
                        </p>
                    </div>
                </div>
            </div>

            <!-- Slide 6: CV -->
            <div class="slide slide-center hidden" data-slide="6">
                <div class="fade-in space-y-8 w-full">
                    <p class="text-xl font-bold">【中学生 保護者会】</p>

                    <div class="space-y-1 text-2xl font-bold py-4">
                        <p>2月21日(土)</p>
                        <p>2月22日(日)</p>
                        <p class="text-lg font-medium mt-2">13:00–14:00</p>
                        <p class="text-lg font-medium">ECCベストワン藍住</p>
                    </div>

                    <div class="accent-box inline-block mx-auto">
                        <p class="text-xl font-bold">限定 10 名</p>
                    </div>

                    <div class="pt-8">
                        <p class="text-sm font-bold tracking-widest text-gray-400">
                            申込はプロフィールへ
                        </p>
                    </div>
                </div>
            </div>

        </div>

        <!-- Navigation Dots -->
        <div class="flex gap-4 mt-8" id="dots">
            <button class="nav-dot active" data-dot="1"></button>
            <button class="nav-dot" data-dot="2"></button>
            <button class="nav-dot" data-dot="3"></button>
            <button class="nav-dot" data-dot="4"></button>
            <button class="nav-dot" data-dot="5"></button>
            <button class="nav-dot" data-dot="6"></button>
        </div>

        <!-- Counter -->
        <div class="mt-4 text-gray-300 text-xs font-bold tracking-[0.2em]">
            <span id="currentSlideDisplay">1</span> / 6
        </div>

    </div>

    <script>
        const defaultConfig = {
            school_name: 'ECCベストワン藍住',
            phone_number: '088-692-5483'
        };

        let currentSlide = 1;
        const totalSlides = 6;

        function showSlide(n) {
            const slides = document.querySelectorAll('.slide');
            const dots = document.querySelectorAll('[data-dot]');

            slides.forEach(slide => slide.classList.add('hidden'));
            dots.forEach(dot => dot.classList.remove('active'));

            const targetSlide = document.querySelector(`[data-slide="${n}"]`);
            const targetDot = document.querySelector(`[data-dot="${n}"]`);

            if (targetSlide) targetSlide.classList.remove('hidden');
            if (targetDot) targetDot.classList.add('active');

            document.getElementById('currentSlideDisplay').textContent = n;
        }

        function nextSlide() {
            currentSlide = currentSlide >= totalSlides ? 1 : currentSlide + 1;
            showSlide(currentSlide);
        }

        function prevSlide() {
            currentSlide = currentSlide <= 1 ? totalSlides : currentSlide - 1;
            showSlide(currentSlide);
        }

        document.querySelectorAll('[data-dot]').forEach(dot => {
            dot.addEventListener('click', (e) => {
                currentSlide = parseInt(e.target.dataset.dot);
                showSlide(currentSlide);
            });
        });

        // Swipe support
        let touchStartX = 0;
        let touchEndX = 0;
        const container = document.getElementById('slideContainer');

        container.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        }, { passive: true });

        container.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            if (touchStartX - touchEndX > 50) nextSlide();
            else if (touchEndX - touchStartX > 50) prevSlide();
        }, { passive: true });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });

        // Element SDK Integration
        async function onConfigChange(config) {
            // Update components based on config
        }

        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities: () => ({ recolorables: [], borderables: [] }),
                mapToEditPanelValues: (config) => new Map([['school_name', config.school_name || defaultConfig.school_name]])
            });
        }

        showSlide(1);
    </script>
</body>

</html>